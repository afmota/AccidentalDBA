<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DBA Acidental</title>
</head>
<body>
<h1>Prefácio de Paul Randal</h1>
<p>Para a maioria das pessoas, solucionar problemas de desempenho, corrupção ou outros problemas com o SQL Server é uma necessidade, não uma preferência. A menos que você seja um DBA avançado ou consultor com muitos anos de experiência em solução de problemas, a primeira pergunta que você costuma fazer a si mesmo é: por onde começo? Existem muitos livros sobre os aspectos internos do SQL Server, solução de problemas do SQL Server ou ambos - mas todos são organizados a partir da perspectiva da arquitetura ou dos aspectos internos do SQL Server.</p>
<p>Com o crescente número de pessoas não DBAs lidando com o SQL Server, o que essas pessoas realmente precisam é de um livro organizado por área de problema - e é aí que este livro difere dos outros livros de solução de problemas disponíveis. Se você é um DBA acidental ou involuntário, foi solicitado a cuidar de um SQL Server e está lutando para descobrir um problema, este livro é para você. Por outro lado, se você é um DBA ou consultor experiente e deseja uma nova maneira de pensar na solução de problemas do SQL Server, este livro também será imensamente útil para você.</p>
<p>O livro aborda muitos dos problemas mais comuns que as pessoas encontram ao lidar com o SQL Server. Para cada problema, ele oferece uma breve visão geral dos detalhes técnicos subjacentes antes de entrar nos detalhes de "Como eu trabalho para resolver o problema", que são os mais importantes para um profissional de TI com pouco tempo. Também há vários links para artigos e postagens de blog para os leitores mais audaciosos explorarem.</p>
<p>Jonathan, Ted e Gail são todos MVPs altamente respeitados do SQL Server, blogueiros prolíficos (aprofundando-se bastante em suas postagens), e passam uma grande quantidade de tempo respondendo a pessoas inquisitivas e necessitadas de todo o mundo em diversos fóruns da Internet e no Twitter. Sua escrita é clara e precisa, o que é de suma importância ao transmitir detalhes de solução de problemas para pessoas que podem não estar familiarizadas com os tópicos descritos.</p>
<p>Eu pessoalmente aprendi com esses três talentosos especialistas em SQL Server, e encorajo você a fazer o mesmo.</p>
<p>
	Paul S. Randal, CEO - SQLskills.com<br>
	Redmond, WA - Outubro de 2011
</p>
<h1>Sobre os Autores</h1>
<h2>Jonathan Kehayias</h2>
<p>Jonathan atualmente trabalha como Consultor Principal e Instrutor na SQLskills, uma das empresas de treinamento e consultoria em SQL Server mais conhecidas e respeitadas do mundo. Jonathan é um SQL Server MVP e um dos poucos Microsoft Certified Masters para o SQL Server 2008 fora da Microsoft. Jonathan frequentemente escreve em seu blog sobre SQL Server, apresenta palestras na PASS Summit, SQLBits, SQL Connections e eventos locais do SQL Saturday, e tem sido um dos principais respondentes de perguntas no fórum MSDN SQL Server Database Engine desde 2007.</p>
<p>Jonathan é um especialista em ajuste de desempenho tanto para SQL Server quanto para hardware, e já arquitetou sistemas complexos como desenvolvedor, analista de negócios e DBA. Ele também possui ampla experiência em desenvolvimento (T-SQL, C# e ASP.Net), design de hardware e virtualização, expertise em Windows, experiência em Active Directory e administração do IIS.</p>
<p>Além do SQL Server, Jonathan também é Sargento Instrutor no Exército dos Estados Unidos e é casado e tem dois filhos pequenos. Na maioria das noites, ele pode ser encontrado no parquinho, em uma piscina ou na praia com seus filhos.</p>
<p>Jonathan pode ser encontrado online como @SQLPoolBoy no Twitter ou por meio de seu blog em http://sqlskills.com/blogs/jonathan.</p>
<h2>Ted Krueger</h2>
<p>Ted é um consultor sênior de SQL Server em uma respeitada empresa parceira da Microsoft. Ele é um MVP, autor, blogueiro, palestrante, voluntário e mentor. Trabalhando com o SQL Server por mais de uma década, as áreas de especialização de Ted são SSIS, alta disponibilidade, espelhamento e replicação, bem como a adoção de todos os outros recursos que acompanham esse poderoso servidor de banco de dados. Ele trabalha incansavelmente para educar e ajudar os outros na comunidade. Ele é um dos fundadores da comunidade técnica em http://LessThanDot.com. Ted também pode ser encontrado respondendo perguntas em fóruns, atuando como mentor regional da PASS, respondendo perguntas no Twitter e pescando e jogando golfe em seu tempo livre.</p>
<p>Ted pode ser encontrado online como @onpnt no Twitter, ou por meio de seu blog em http://blogs.LessThanDot.com.</p>
<p>Ted contribuiu com os Capítulos 3 e 6 deste livro.</p>
<h1>Sobre a Revisora Técnica</h1>
<h2>Gail Shaw</h2>
<p>Gail é Consultora Sênior na Xpertease, sediada em Joanesburgo, África do Sul. Ela é especializada em ajuste de desempenho de bancos de dados e recuperação de banco de dados, com foco especial em tópicos como estratégias de indexação, planos de execução e escrever código T-SQL que tenha um bom desempenho e se adapte bem à escala.</p>
<p>Gail é uma MVP do SQL Server e uma participante frequente nos fóruns SQL Server Central e SQLTeam. Ela escreve artigos para o SQLServerCentral e Simple-Talk e bloga sobre tudo relacionado ao desempenho de banco de dados em seu blog em http://sqlinthewild.co.za. Ela palestrou no TechEd Africa, em diversos eventos online 24 Horas de PASS e, em várias ocasiões, na Cúpula da Comunidade PASS. Na Cúpula da Comunidade PASS em 2009, sua apresentação sobre estatísticas ficou classificada em 7º lugar geral no evento.</p>
<p>Gail é uma Aikido Shodan (faixa preta de 1º grau) e uma arqueira ávida. Em seu amplo tempo livre, ela está cursando um mestrado em Ciência da Computação na Universidade da África do Sul.</p>
<p>Gail também contribuiu com material adicional ao longo do livro, especialmente nos Capítulos 3, 5 e 6.</p>
<h1>Agradecimentos</h1>
<h2>Jonathan Kehayias</h2>
<p>Levar este livro à impressão exigiu mais do que simplesmente colocar pensamentos em texto, e várias pessoas contribuíram ao longo do caminho. Primeiramente, gostaria de agradecer à minha esposa, Sarah, e aos meus filhos, Charlotte e Michael, por sua habilidade e disposição em lidar com as horas tardias que passei trancado em nosso escritório em casa, assim como os fins de semana passados em frente ao meu laptop quando poderíamos estar fazendo tantas outras coisas. No último ano, mais do que o normal, Sarah passou muitas noites se perguntando se eu realmente iria conseguir ir para a cama ou não, e ela providenciou distrações para Michael e Charlotte em diversos fins de semana, especialmente nas últimas semanas antes da impressão. Sem o apoio deles, eu nunca teria conseguido passar pelas primeiras versões, muito menos pelas edições repetidas, enquanto trabalhávamos para a finalização do livro.</p>
<p>Em segundo lugar, estão os revisores técnicos associados a este livro. A revisora técnica, Gail Shaw, contribuiu com muitas ideias e tópicos para o livro, além de adicionar exemplos e texto para aprimorar o conteúdo de vários capítulos. Desde o início do livro, eu sabia que queria ter um membro proeminente dos fóruns do SQL Server como minha revisora técnica, e embora nós respondamos principalmente a perguntas em sites diferentes, Gail estava no topo de uma lista muito curta de candidatos em potencial. Como Gail conseguiu encontrar tempo para ajudar com este livro é algo inexplicável, mas por seus esforços, sou eternamente grato.</p>
<p>O editor-chefe do livro, Tony Davis, deve ser uma das pessoas mais pacientes que já conheci. Em todas as edições, atrasos e, em seguida, a corrida final para o fim, Tony trabalhou incansavelmente para manter o livro focado e progredindo em direção à impressão. Este livro é tanto trabalho deles quanto dos autores.</p>
<p>Um último agradecimento vai para o meu amigo, Amit Banerjee, membro da Equipe de Escalada nos Serviços de Suporte ao Cliente da Microsoft para o SQL Server em Bangalore, Índia, que gentilmente revisou o Capítulo 4 do livro em busca de erros técnicos nas informações sobre a memória interna.</p>
<p>Reconhecimento adicional é estendido a todos os mentores que tive ao longo dos anos, cuja lista é incrivelmente longa. Sem o comprometimento de MVPs do SQL Server como Arnie Rowland, Paul Randal, Aaron Bertrand, Louis Davidson, Geoff Hiten e inúmeros outros, eu jamais teria mantido o compromisso de responder perguntas nos fóruns.</p>
<h2>Ted Krueger</h2>
<p>Ser um colaborador deste livro foi uma grande honra para mim, e eu não teria conseguido sem o apoio da minha amada esposa, Michelle, e a paciência e brincadeiras dos meus filhos, Ethan e Cameron. A família faz tudo em uma pessoa, e a força fornecida pela minha família foi minha força motivadora em todo o processo.</p>
<p>Agradeço especialmente à revisora técnica, Gail Shaw, cujos esforços incansáveis e conhecimento ajudaram a tornar este livro o que é. Agradeço também a Jonathan Kehayias por sua confiança e orientação ao me permitir escrever os Capítulos 3 e 6. Em todos os anos em que tenho trabalhado com o SQL Server, nenhuma outra pessoa me ensinou e ajudou mais do que o Jonathan. Ele dedica mais tempo e energia para ajudar a comunidade e compreender o SQL Server do que qualquer outra pessoa com quem já trabalhei, e faz isso de maneira altruísta.</p>
<p>Por último, gostaria de agradecer à comunidade do SQL Server por compartilhar seu tempo e conhecimento. Eu já fiz parte de outras comunidades de desenvolvimento e engenharia, mas nenhuma conseguiu alcançar a mesma escala e energia de troca de conhecimento que acontece todos os dias na comunidade do SQL Server, por meio de fóruns, artigos, blogs e Twitter. Eu devo grande parte do que sei a essas pessoas: Replicação de Kendal Van Dyke, Planos de Execução de Grant Fritchey, SQL Server Internals de Paul Randal e muito mais.</p>
<p>Sem o trabalho árduo deles, descobrir como domar esse sistema de banco de dados complexo seria uma tarefa muito mais difícil. Por minha vez, tenho feito o meu melhor para compartilhar o que sei com a comunidade.</p>
<h1>Introdução</h1>
<p>Grande parte dos últimos seis anos da minha vida profissional foi dedicada a ajudar as pessoas a resolver problemas de desempenho relacionados ao SQL Server, seja no local de trabalho, como consultor em clientes, ou em vários fóruns de comunidades online, respondendo às perguntas das pessoas.</p>
<p>Ao longo desse tempo, fui exposto a alguns problemas estranhos e maravilhosos do SQL Server, mas principalmente vi os mesmos problemas e as mesmas confusões surgirem repetidamente. Era apenas uma questão de tempo antes de eu chegar à conclusão imprudente de que deveria escrever um livro para explicar quais eram os problemas mais comuns, por que eles ocorriam e oferecer soluções sensatas e práticas, voltadas para a remoção da causa raiz do problema, em vez de simplesmente "tapar os buracos".</p>
<p>Acabou se revelando uma tarefa muito mais desafiadora do que eu imaginava, por várias razões. Em primeiro lugar, este é, por sua própria natureza, um livro abrangente, que aborda tópicos que vão desde problemas de CPU até gerenciamento de memória, índices ausentes e logs de transação completos. Em segundo lugar, é surpreendente como alguns dos tópicos mais simples se tornam complexos quando você tenta escrevê-los em texto. Em terceiro lugar, a tecnologia muda rapidamente, e o solucionador de problemas, assim como os conselhos que ele oferece, devem se adaptar em conformidade. Houve vários casos na escrita deste livro em que uma mudança tecnológica significava que eu tinha que voltar e adaptar meu conselho original, ou onde minha própria opinião sobre o conteúdo e as metodologias de solução de problemas haviam evoluído a ponto de certas seções precisarem ser completamente reescritas.</p>
<p>Apesar das ocasionais dificuldades, o que espero ter conseguido é um livro que aborda de forma clara e concisa os problemas mais comuns associados às versões atualmente suportadas do SQL Server, ou seja, SQL Server 2005, 2008 e 2008 R2. O primeiro capítulo explica minha abordagem básica para solução de problemas de desempenho e as ferramentas que utilizo. Ele enfatiza, em particular, como é raro que um problema possa ser diagnosticado olhando apenas para um único ponto de dados.</p>
<p>A arte de domar um SQL Server indisciplinado é a arte de reunir as várias informações de que você precisa e, em seguida, montar o "quebra-cabeça" para que você tenha uma visão completa do que está acontecendo dentro de um servidor e uma compreensão real da causa raiz do problema.</p>
<p>Os oito capítulos seguintes abordam as áreas em que vejo problemas surgindo com frequência alarmante: E/S de disco, alto uso de CPU, gerenciamento inadequado de memória, índices ausentes, bloqueios e deadlocks, logs de transação completos e perda acidental de dados.</p>
<p>Em cada caso, descrevo os problemas mais comuns, por que eles ocorrem, como podem ser diagnosticados usando ferramentas como contadores do Monitor de Desempenho, Visualizações de Gerenciamento Dinâmico, rastreamento no lado do servidor, entre outros, e como resolvê-los.</p>
<p>Ao aplicar os passos básicos que utilizo diariamente para solucionar esses problemas de desempenho, espero que você também possa começar a resolver os problemas de desempenho em seu ambiente de forma mais rápida e precisa.</p>
<h2>Para quem é este livro?</h2>
<p>O público principal deste livro é qualquer pessoa que se encontrou responsável pelo SQL Server "por acidente"; em outras palavras, os DBAs acidentais/involuntários e administradores de sistema que tiveram a responsabilidade de cuidar de bancos de dados do SQL Server adicionada às suas funções, porque há um SQL Server em seu ambiente e alguém precisa cuidar dele.</p>
<p>No entanto, os conceitos e metodologias de solução de problemas abordados neste livro podem ser aplicados por qualquer pessoa, incluindo administradores de banco de dados experientes, para identificar e resolver problemas comuns e aprender novas técnicas para gerenciar e manter o SQL Server. Qualquer pessoa que já tenha feito perguntas em um dos fóruns da comunidade provavelmente aprenderá algo novo com este livro.</p>
<h2>Exemplos de código</h2>
<p>Ao longo deste livro, há scripts demonstrando várias maneiras de coletar dados de diagnóstico, e em alguns lugares, a apresentação do código completo foi adiada devido a restrições de espaço. Todo o código necessário para experimentar os exemplos neste livro pode ser obtido no seguinte URL:</p>
http://www.simple-talk.com/RedGateBooks/JonathanKehayias/TroubleshootingSQLServer_Code.zip
<p>Todos os exemplos devem ser executados em todas as versões do SQL Server a partir do SQL Server 2005, a menos que seja especificado de outra forma.</p>
</body>
</html>
